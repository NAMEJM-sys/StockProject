{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProPython\\\\Stock2\\\\frontend\\\\src\\\\ComponentsFetch\\\\FetchAnalysis\\\\FetchKeltnerAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FetchKeltnerAnalysis({\n  stockCode,\n  selectedAnalysis\n}) {\n  _s();\n  const [analysisResult, setAnalysisResult] = useState(null); // 분석 결과 저장할 상태\n\n  useEffect(() => {\n    const query = selectedAnalysis.join(',');\n    if (stockCode) {\n      fetch(`http://127.0.0.1:8000/api/analyze_keltner/${stockCode}/?analysis=${query}`).then(res => res.json()).then(data => {\n        if (setAnalysisResult) {\n          setAnalysisResult(data);\n        }\n      }).catch(e => e);\n    }\n  }, [stockCode]);\n  if (!analysisResult) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uB85C\\uB529 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 16\n    }, this);\n  }\n  const renderKeltnerAnalysis1 = analysisData => {\n    if (!analysisData || analysisData.error) {\n      return '데이터가 충분하지 않습니다.';\n    }\n    const {\n      channel_trend,\n      price_position,\n      angle\n    } = analysisData;\n    let result = '<strong>채널 기울기와 가격 위치를 통한 추세 분석</strong><br/><br/>';\n    result += `채널의 기울기(angle): <strong>${angle.toFixed(2)}도</strong><br/>`;\n    result += `현재 채널은 <strong>${channel_trend}</strong>입니다.<br/><br/>`;\n    result += `가격이 ${price_position}에 위치해 있습니다.<br/>`;\n\n    // 추가적인 설명 또는 신호 해석\n    if (price_position === 'Upper Band 위') {\n      result += '→ 강한 상승 모멘텀이 있습니다.<br/>';\n    } else if (price_position === 'Lower Band 아래') {\n      result += '→ 강한 하락 모멘텀이 있습니다. 신중한 접근이 필요합니다.<br/>';\n    } else if (price_position === 'Middle Line 위') {\n      result += '→ 상승 추세입니다.<br/>';\n    } else if (price_position === 'Middle Line 아래') {\n      result += '→ 하락 추세입니다.<br/>';\n    } else {\n      result += '→ 추세 판단이 어렵습니다.<br/>';\n    }\n    return result;\n  };\n  const renderKeltnerAnalysis2 = analysisData => {\n    if (!analysisData || analysisData.error) {\n      return '데이터가 충분하지 않습니다.';\n    }\n    const {\n      channel_trend,\n      signal\n    } = analysisData;\n    let result = '<strong>Trend Pullback 전략 분석</strong><br/><br/>';\n    result += `현재 채널은 <strong>${channel_trend}</strong>입니다.<br/>`;\n    if (signal) {\n      result += `→ ${signal}<br/>`;\n    } else {\n      result += '→ 특별한 신호가 없습니다.<br/>';\n    }\n    return result;\n  };\n  const renderKeltnerAnalysis3 = analysisData => {\n    if (!analysisData || analysisData.error) {\n      return '데이터가 충분하지 않습니다.';\n    }\n    const {\n      signal,\n      angle\n    } = analysisData;\n    let result = '<strong>Break Out 전략 분석</strong><br/><br/>';\n    result += `채널의 기울기(angle): <strong>${angle.toFixed(2)}도</strong><br/>`;\n    result += `현재 신호: <strong>${signal}</strong><br/>`;\n    return result;\n  };\n  const renderKeltnerAnalysis4 = analysisData => {\n    if (!analysisData || analysisData.error) {\n      return '데이터가 충분하지 않습니다.';\n    }\n    const {\n      signal,\n      angle\n    } = analysisData;\n    let result = '<strong>과매수/과매도 상태 분석 및 반전 가능성 평가</strong><br/><br/>';\n    result += `채널의 기울기(angle): <strong>${angle.toFixed(2)}도</strong><br/>`;\n    result += `현재 신호: <strong>${signal}</strong><br/>`;\n    return result;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [selectedAnalysis.includes('1') && analysisResult.keltner_analysis1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: renderKeltnerAnalysis1(analysisResult.keltner_analysis1)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }, this), selectedAnalysis.includes('2') && analysisResult.adx_analysis2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: renderADXAnalysis2(analysisResult.adx_analysis2)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this), selectedAnalysis.includes('3') && analysisResult.adx_analysis3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: renderADXAnalysis3(analysisResult.adx_analysis3)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }, this), selectedAnalysis.includes('4') && analysisResult.adx_analysis4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: renderADXAnalysis4(analysisResult.adx_analysis4)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n_s(FetchKeltnerAnalysis, \"IE575gtvFlNwZ90kQ845xFRse8E=\");\n_c = FetchKeltnerAnalysis;\nexport default FetchKeltnerAnalysis;\nvar _c;\n$RefreshReg$(_c, \"FetchKeltnerAnalysis\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","FetchKeltnerAnalysis","stockCode","selectedAnalysis","_s","analysisResult","setAnalysisResult","query","join","fetch","then","res","json","data","catch","e","children","fileName","_jsxFileName","lineNumber","columnNumber","renderKeltnerAnalysis1","analysisData","error","channel_trend","price_position","angle","result","toFixed","renderKeltnerAnalysis2","signal","renderKeltnerAnalysis3","renderKeltnerAnalysis4","includes","keltner_analysis1","dangerouslySetInnerHTML","__html","adx_analysis2","renderADXAnalysis2","adx_analysis3","renderADXAnalysis3","adx_analysis4","renderADXAnalysis4","_c","$RefreshReg$"],"sources":["C:/ProPython/Stock2/frontend/src/ComponentsFetch/FetchAnalysis/FetchKeltnerAnalysis.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\n\r\nfunction FetchKeltnerAnalysis({ stockCode, selectedAnalysis }) {\r\n    const [analysisResult, setAnalysisResult] = useState(null);  // 분석 결과 저장할 상태\r\n\r\n    useEffect(() => {\r\n        const query = selectedAnalysis.join(',');\r\n        if (stockCode) {\r\n            fetch(`http://127.0.0.1:8000/api/analyze_keltner/${stockCode}/?analysis=${query}`)\r\n                .then((res) => res.json())\r\n                .then(data => { if(setAnalysisResult) {setAnalysisResult(data) }})\r\n                .catch(e => e);\r\n        }\r\n    }, [stockCode])\r\n\r\n    if(!analysisResult) {\r\n        return <div>로딩 중...</div>;\r\n    }\r\n\r\n    const renderKeltnerAnalysis1 = (analysisData) => {\r\n        if (!analysisData || analysisData.error) {\r\n            return '데이터가 충분하지 않습니다.';\r\n        }\r\n\r\n        const { channel_trend, price_position, angle } = analysisData;\r\n\r\n        let result = '<strong>채널 기울기와 가격 위치를 통한 추세 분석</strong><br/><br/>';\r\n\r\n        result += `채널의 기울기(angle): <strong>${angle.toFixed(2)}도</strong><br/>`;\r\n        result += `현재 채널은 <strong>${channel_trend}</strong>입니다.<br/><br/>`;\r\n\r\n        result += `가격이 ${price_position}에 위치해 있습니다.<br/>`;\r\n\r\n        // 추가적인 설명 또는 신호 해석\r\n        if (price_position === 'Upper Band 위') {\r\n            result += '→ 강한 상승 모멘텀이 있습니다.<br/>';\r\n        } else if (price_position === 'Lower Band 아래') {\r\n            result += '→ 강한 하락 모멘텀이 있습니다. 신중한 접근이 필요합니다.<br/>';\r\n        } else if (price_position === 'Middle Line 위') {\r\n            result += '→ 상승 추세입니다.<br/>';\r\n        } else if (price_position === 'Middle Line 아래') {\r\n            result += '→ 하락 추세입니다.<br/>';\r\n        } else {\r\n            result += '→ 추세 판단이 어렵습니다.<br/>';\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    const renderKeltnerAnalysis2 = (analysisData) => {\r\n        if (!analysisData || analysisData.error) {\r\n            return '데이터가 충분하지 않습니다.';\r\n        }\r\n\r\n        const { channel_trend, signal } = analysisData;\r\n\r\n        let result = '<strong>Trend Pullback 전략 분석</strong><br/><br/>';\r\n        result += `현재 채널은 <strong>${channel_trend}</strong>입니다.<br/>`;\r\n        if (signal) {\r\n            result += `→ ${signal}<br/>`;\r\n        } else {\r\n            result += '→ 특별한 신호가 없습니다.<br/>';\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    const renderKeltnerAnalysis3 = (analysisData) => {\r\n        if (!analysisData || analysisData.error) {\r\n            return '데이터가 충분하지 않습니다.';\r\n        }\r\n\r\n        const { signal, angle } = analysisData;\r\n\r\n        let result = '<strong>Break Out 전략 분석</strong><br/><br/>';\r\n        result += `채널의 기울기(angle): <strong>${angle.toFixed(2)}도</strong><br/>`;\r\n        result += `현재 신호: <strong>${signal}</strong><br/>`;\r\n\r\n        return result;\r\n    };\r\n\r\n    const renderKeltnerAnalysis4 = (analysisData) => {\r\n        if (!analysisData || analysisData.error) {\r\n            return '데이터가 충분하지 않습니다.';\r\n        }\r\n\r\n        const { signal, angle } = analysisData;\r\n\r\n        let result = '<strong>과매수/과매도 상태 분석 및 반전 가능성 평가</strong><br/><br/>';\r\n        result += `채널의 기울기(angle): <strong>${angle.toFixed(2)}도</strong><br/>`;\r\n        result += `현재 신호: <strong>${signal}</strong><br/>`;\r\n\r\n        return result;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {selectedAnalysis.includes('1') && analysisResult.keltner_analysis1 && (\r\n                <div>\r\n                    <p dangerouslySetInnerHTML={{__html: renderKeltnerAnalysis1(analysisResult.keltner_analysis1)}}></p>\r\n                </div>\r\n            )}\r\n            {selectedAnalysis.includes('2') && analysisResult.adx_analysis2 && (\r\n                <div>\r\n                    <p dangerouslySetInnerHTML={{__html: renderADXAnalysis2(analysisResult.adx_analysis2)}}></p>\r\n                </div>\r\n            )}\r\n            {selectedAnalysis.includes('3') && analysisResult.adx_analysis3 && (\r\n                <div>\r\n                    <p dangerouslySetInnerHTML={{__html: renderADXAnalysis3(analysisResult.adx_analysis3)}}></p>\r\n                </div>\r\n            )}\r\n            {selectedAnalysis.includes('4') && analysisResult.adx_analysis4 && (\r\n                <div>\r\n                    <p dangerouslySetInnerHTML={{__html: renderADXAnalysis4(analysisResult.adx_analysis4)}}></p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FetchKeltnerAnalysis"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhD,SAASC,oBAAoBA,CAAC;EAAEC,SAAS;EAAEC;AAAiB,CAAC,EAAE;EAAAC,EAAA;EAC3D,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAE;;EAE7DD,SAAS,CAAC,MAAM;IACZ,MAAMU,KAAK,GAAGJ,gBAAgB,CAACK,IAAI,CAAC,GAAG,CAAC;IACxC,IAAIN,SAAS,EAAE;MACXO,KAAK,CAAC,6CAA6CP,SAAS,cAAcK,KAAK,EAAE,CAAC,CAC7EG,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAACG,IAAI,IAAI;QAAE,IAAGP,iBAAiB,EAAE;UAACA,iBAAiB,CAACO,IAAI,CAAC;QAAC;MAAC,CAAC,CAAC,CACjEC,KAAK,CAACC,CAAC,IAAIA,CAAC,CAAC;IACtB;EACJ,CAAC,EAAE,CAACb,SAAS,CAAC,CAAC;EAEf,IAAG,CAACG,cAAc,EAAE;IAChB,oBAAOL,OAAA;MAAAgB,QAAA,EAAK;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC7B;EAEA,MAAMC,sBAAsB,GAAIC,YAAY,IAAK;IAC7C,IAAI,CAACA,YAAY,IAAIA,YAAY,CAACC,KAAK,EAAE;MACrC,OAAO,iBAAiB;IAC5B;IAEA,MAAM;MAAEC,aAAa;MAAEC,cAAc;MAAEC;IAAM,CAAC,GAAGJ,YAAY;IAE7D,IAAIK,MAAM,GAAG,oDAAoD;IAEjEA,MAAM,IAAI,2BAA2BD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,iBAAiB;IACtED,MAAM,IAAI,kBAAkBH,aAAa,yBAAyB;IAElEG,MAAM,IAAI,OAAOF,cAAc,kBAAkB;;IAEjD;IACA,IAAIA,cAAc,KAAK,cAAc,EAAE;MACnCE,MAAM,IAAI,yBAAyB;IACvC,CAAC,MAAM,IAAIF,cAAc,KAAK,eAAe,EAAE;MAC3CE,MAAM,IAAI,wCAAwC;IACtD,CAAC,MAAM,IAAIF,cAAc,KAAK,eAAe,EAAE;MAC3CE,MAAM,IAAI,kBAAkB;IAChC,CAAC,MAAM,IAAIF,cAAc,KAAK,gBAAgB,EAAE;MAC5CE,MAAM,IAAI,kBAAkB;IAChC,CAAC,MAAM;MACHA,MAAM,IAAI,sBAAsB;IACpC;IAEA,OAAOA,MAAM;EACjB,CAAC;EAED,MAAME,sBAAsB,GAAIP,YAAY,IAAK;IAC7C,IAAI,CAACA,YAAY,IAAIA,YAAY,CAACC,KAAK,EAAE;MACrC,OAAO,iBAAiB;IAC5B;IAEA,MAAM;MAAEC,aAAa;MAAEM;IAAO,CAAC,GAAGR,YAAY;IAE9C,IAAIK,MAAM,GAAG,iDAAiD;IAC9DA,MAAM,IAAI,kBAAkBH,aAAa,oBAAoB;IAC7D,IAAIM,MAAM,EAAE;MACRH,MAAM,IAAI,KAAKG,MAAM,OAAO;IAChC,CAAC,MAAM;MACHH,MAAM,IAAI,sBAAsB;IACpC;IAEA,OAAOA,MAAM;EACjB,CAAC;EAED,MAAMI,sBAAsB,GAAIT,YAAY,IAAK;IAC7C,IAAI,CAACA,YAAY,IAAIA,YAAY,CAACC,KAAK,EAAE;MACrC,OAAO,iBAAiB;IAC5B;IAEA,MAAM;MAAEO,MAAM;MAAEJ;IAAM,CAAC,GAAGJ,YAAY;IAEtC,IAAIK,MAAM,GAAG,4CAA4C;IACzDA,MAAM,IAAI,2BAA2BD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,iBAAiB;IACtED,MAAM,IAAI,kBAAkBG,MAAM,gBAAgB;IAElD,OAAOH,MAAM;EACjB,CAAC;EAED,MAAMK,sBAAsB,GAAIV,YAAY,IAAK;IAC7C,IAAI,CAACA,YAAY,IAAIA,YAAY,CAACC,KAAK,EAAE;MACrC,OAAO,iBAAiB;IAC5B;IAEA,MAAM;MAAEO,MAAM;MAAEJ;IAAM,CAAC,GAAGJ,YAAY;IAEtC,IAAIK,MAAM,GAAG,sDAAsD;IACnEA,MAAM,IAAI,2BAA2BD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,iBAAiB;IACtED,MAAM,IAAI,kBAAkBG,MAAM,gBAAgB;IAElD,OAAOH,MAAM;EACjB,CAAC;EAED,oBACI3B,OAAA;IAAAgB,QAAA,GACKb,gBAAgB,CAAC8B,QAAQ,CAAC,GAAG,CAAC,IAAI5B,cAAc,CAAC6B,iBAAiB,iBAC/DlC,OAAA;MAAAgB,QAAA,eACIhB,OAAA;QAAGmC,uBAAuB,EAAE;UAACC,MAAM,EAAEf,sBAAsB,CAAChB,cAAc,CAAC6B,iBAAiB;QAAC;MAAE;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnG,CACR,EACAjB,gBAAgB,CAAC8B,QAAQ,CAAC,GAAG,CAAC,IAAI5B,cAAc,CAACgC,aAAa,iBAC3DrC,OAAA;MAAAgB,QAAA,eACIhB,OAAA;QAAGmC,uBAAuB,EAAE;UAACC,MAAM,EAAEE,kBAAkB,CAACjC,cAAc,CAACgC,aAAa;QAAC;MAAE;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3F,CACR,EACAjB,gBAAgB,CAAC8B,QAAQ,CAAC,GAAG,CAAC,IAAI5B,cAAc,CAACkC,aAAa,iBAC3DvC,OAAA;MAAAgB,QAAA,eACIhB,OAAA;QAAGmC,uBAAuB,EAAE;UAACC,MAAM,EAAEI,kBAAkB,CAACnC,cAAc,CAACkC,aAAa;QAAC;MAAE;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3F,CACR,EACAjB,gBAAgB,CAAC8B,QAAQ,CAAC,GAAG,CAAC,IAAI5B,cAAc,CAACoC,aAAa,iBAC3DzC,OAAA;MAAAgB,QAAA,eACIhB,OAAA;QAAGmC,uBAAuB,EAAE;UAACC,MAAM,EAAEM,kBAAkB,CAACrC,cAAc,CAACoC,aAAa;QAAC;MAAE;QAAAxB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3F,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd;AAAChB,EAAA,CArHQH,oBAAoB;AAAA0C,EAAA,GAApB1C,oBAAoB;AAuH7B,eAAeA,oBAAoB;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}