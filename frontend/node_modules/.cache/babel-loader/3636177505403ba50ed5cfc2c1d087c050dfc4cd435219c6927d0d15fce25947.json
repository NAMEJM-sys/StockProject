{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProPython\\\\Stock2\\\\frontend\\\\src\\\\ComponentsCalculations\\\\RSICalculations4.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport FetchRSIData from '../ComponentsFetch/FetchRSIData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RSICalculations4({\n  stockCode,\n  onScoreCalculated\n}) {\n  _s();\n  const [rsiData, setRSIData] = useState([]);\n  const [score, setScore] = useState(null);\n  const calculatePeriodScores = rsiData => {\n    const calculateAveragesAndTrends = (data, period) => {\n      if (data.length >= period) {\n        const recentData = data.slice(-period);\n        const avg = recentData.reduce((acc, val) => acc + val.RSI, 0) / period;\n        const trend = recentData[recentData.length - 1].RSI - recentData[0].RSI;\n        return {\n          avg,\n          trend\n        };\n      }\n      return {\n        avg: null,\n        trend: null\n      };\n    };\n    const periods = [7, 14, 30];\n    let calculatedScore = 5; // 기본 보통\n\n    for (let period of periods) {\n      const {\n        avg,\n        trend\n      } = calculateAveragesAndTrends(rsiData, period);\n      if (avg === null || trend === null) continue;\n      if (trend > 5 && avg > 50) {\n        if (period === 7) {\n          calculatedScore = 1; // 강력한 매수 신호\n          break;\n        } else if (period === 14) {\n          calculatedScore = 3; // 매수 신호\n        }\n      } else if (trend < -5 && avg < 50) {\n        if (period === 7) {\n          calculatedScore = 10; // 강력한 매도 신호\n          break;\n        } else if (period === 14) {\n          calculatedScore = 7; // 매도 신호\n        }\n      }\n    }\n    setScore(calculatedScore);\n    if (onScoreCalculated && calculatedScore !== null) {\n      onScoreCalculated(calculatedScore);\n      console.log(\"RSI4\", calculatedScore);\n    }\n  };\n  useEffect(() => {\n    if (rsiData && rsiData.length > 0) {\n      calculatePeriodScores(rsiData);\n    }\n  }, [rsiData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(FetchRSIData, {\n      stockCode: stockCode,\n      onRSIFetch: setRSIData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(RSICalculations4, \"o+gUW6JThOAcyIbjtKGwvxhFx80=\");\n_c = RSICalculations4;\nexport default RSICalculations4;\nvar _c;\n$RefreshReg$(_c, \"RSICalculations4\");","map":{"version":3,"names":["React","useEffect","useState","FetchRSIData","jsxDEV","_jsxDEV","RSICalculations4","stockCode","onScoreCalculated","_s","rsiData","setRSIData","score","setScore","calculatePeriodScores","calculateAveragesAndTrends","data","period","length","recentData","slice","avg","reduce","acc","val","RSI","trend","periods","calculatedScore","console","log","children","onRSIFetch","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/ProPython/Stock2/frontend/src/ComponentsCalculations/RSICalculations4.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport FetchRSIData from '../ComponentsFetch/FetchRSIData';\r\n\r\nfunction RSICalculations4({ stockCode, onScoreCalculated }) {\r\n    const [rsiData, setRSIData] = useState([]);\r\n    const [score, setScore] = useState(null);\r\n\r\n    const calculatePeriodScores = (rsiData) => {\r\n        const calculateAveragesAndTrends = (data, period) => {\r\n            if (data.length >= period) {\r\n                const recentData = data.slice(-period);\r\n                const avg = recentData.reduce((acc, val) => acc + val.RSI, 0) / period;\r\n                const trend = recentData[recentData.length - 1].RSI - recentData[0].RSI;\r\n                return { avg, trend };\r\n            }\r\n            return { avg: null, trend: null };\r\n        };\r\n\r\n        const periods = [7, 14, 30];\r\n        let calculatedScore = 5; // 기본 보통\r\n\r\n        for (let period of periods) {\r\n            const { avg, trend } = calculateAveragesAndTrends(rsiData, period);\r\n            if (avg === null || trend === null) continue;\r\n\r\n            if (trend > 5 && avg > 50) {\r\n                if (period === 7) {\r\n                    calculatedScore = 1; // 강력한 매수 신호\r\n                    break;\r\n                } else if (period === 14) {\r\n                    calculatedScore = 3; // 매수 신호\r\n                }\r\n            } else if (trend < -5 && avg < 50) {\r\n                if (period === 7) {\r\n                    calculatedScore = 10; // 강력한 매도 신호\r\n                    break;\r\n                } else if (period === 14) {\r\n                    calculatedScore = 7; // 매도 신호\r\n                }\r\n            }\r\n        }\r\n\r\n        setScore(calculatedScore);\r\n\r\n        if (onScoreCalculated && calculatedScore !== null) {\r\n            onScoreCalculated(calculatedScore);\r\n            console.log(\"RSI4\", calculatedScore);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (rsiData && rsiData.length > 0) {\r\n            calculatePeriodScores(rsiData);\r\n        }\r\n    }, [rsiData]);\r\n\r\n    return (\r\n        <div>\r\n            <FetchRSIData stockCode={stockCode} onRSIFetch={setRSIData} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RSICalculations4;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}