{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProPython\\\\Stock2\\\\frontend\\\\src\\\\components\\\\RSIAnalysis2.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RSIAnalysis2({\n  stockCode,\n  stockData,\n  rsiData\n}) {\n  _s();\n  const [bullishDivergence, setBullishDivergence] = useState([]);\n  const [bearishDivergence, setBearishDivergence] = useState([]);\n  const calculateBullishDivergence = (stockCode, stockData, rsiData) => {\n    console.log(\"Received stockData in RSIAnalysis2:\", stockData);\n    console.log(\"Received stockData in RSIAnalysis2:\", rsiData);\n    const filteredStockData = stockData.filter(data => data.stock_code === stockCode);\n    const filteredStockRsi = rsiData.filter(data => data.stock_code === stockCode);\n    if (filteredStockData.length < 2 || filteredStockRsi.length < 2) {\n      console.error(\"filter에 문제 있는지 확인 중\", filteredStockData);\n      console.error(\"filter에 문제 있는지 확인 중\", filteredStockRsi);\n    }\n    const sortedStockData = [...filteredStockData].sort((a, b) => a.close - b.close);\n    let firstLowClose = sortedStockData[1];\n    let secondLowClose = sortedStockData[0];\n    if (new Date(secondLowClose.date) < new Date(firstLowClose.date)) {\n      [firstLowClose, secondLowClose] = [secondLowClose, firstLowClose];\n    }\n    const sortedStockRsi = [...filteredStockRsi].sort((a, b) => a.RSI - b.RSI);\n    let firstLowRsi = sortedStockRsi[0];\n    let secondLowRsi = sortedStockRsi[1];\n    if (new Date(secondLowRsi.date) > new Date(firstLowRsi.date)) {\n      [firstLowRsi, secondLowRsi] = [secondLowRsi, firstLowRsi];\n    }\n    return secondLowClose.close < firstLowClose.close && secondLowRsi.RSI > firstLowRsi.RSI;\n  };\n  const calculateBearishDivergence = (stockCode, stockData, rsiData) => {\n    const filteredStockData = stockData.filter(data => data.stock_code === stockCode);\n    const filteredStockRsi = rsiData.filter(data => data.stock_code === stockCode);\n    const sortedStockData = [...filteredStockData].sort((a, b) => b.close - a.close);\n    let firstHighClose = sortedStockData[1];\n    let secondHighClose = sortedStockData[0];\n    if (new Date(secondHighClose.date) < new Date(firstHighClose.date)) {\n      [firstHighClose, secondHighClose] = [secondHighClose, firstHighClose];\n    }\n    const sortedStockRsi = [...filteredStockRsi].sort((a, b) => b.RSI - a.RSI);\n    let firstHighRsi = sortedStockRsi[0];\n    let secondHighRsi = sortedStockRsi[1];\n    if (new Date(secondHighRsi.date) < new Date(firstHighRsi.date)) {\n      [firstHighRsi, secondHighRsi] = [secondHighRsi, firstHighRsi];\n    }\n    return secondHighClose.close > firstHighClose.close && secondHighRsi.RSI < firstHighRsi.RSI;\n  };\n  useEffect(() => {\n    const bullishDivergence = calculateBullishDivergence(stockCode, stockData, rsiData);\n    const bearishDivergence = calculateBearishDivergence(stockCode, stockData, rsiData);\n    setBullishDivergence(bullishDivergence);\n    setBearishDivergence(bearishDivergence);\n  }, [stockCode, stockData, rsiData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"\\uAC15\\uC138 \\uB2E4\\uC774\\uBC84\\uC804\\uC2A4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), bullishDivergence ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'green'\n      },\n      children: \"\\uAC15\\uC138 \\uB2E4\\uC774\\uBC84\\uC804\\uC2A4\\uAC00 \\uAC10\\uC9C0\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4: \\uB9E4\\uC218 \\uC2E0\\uD638\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uAC15\\uC138 \\uB2E4\\uC774\\uBC84\\uC804\\uC2A4\\uAC00 \\uAC10\\uC9C0\\uB418\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"\\uC57D\\uC138 \\uB2E4\\uC774\\uBC84\\uC804\\uC2A4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), bearishDivergence ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: \"\\uC57D\\uC138 \\uB2E4\\uC774\\uBC84\\uC804\\uC2A4\\uAC00 \\uAC10\\uC9C0\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4: \\uB9E4\\uB3C4 \\uC2E0\\uD638\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC57D\\uC138 \\uB2E4\\uC774\\uBC84\\uC804\\uC2A4\\uAC00 \\uAC10\\uC9C0\\uB418\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n_s(RSIAnalysis2, \"N8WwhHaYLUaF0V5CJbDK1Y5QHFY=\");\n_c = RSIAnalysis2;\nexport default RSIAnalysis2;\nvar _c;\n$RefreshReg$(_c, \"RSIAnalysis2\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","RSIAnalysis2","stockCode","stockData","rsiData","_s","bullishDivergence","setBullishDivergence","bearishDivergence","setBearishDivergence","calculateBullishDivergence","console","log","filteredStockData","filter","data","stock_code","filteredStockRsi","length","error","sortedStockData","sort","a","b","close","firstLowClose","secondLowClose","Date","date","sortedStockRsi","RSI","firstLowRsi","secondLowRsi","calculateBearishDivergence","firstHighClose","secondHighClose","firstHighRsi","secondHighRsi","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","_c","$RefreshReg$"],"sources":["C:/ProPython/Stock2/frontend/src/components/RSIAnalysis2.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\n\r\nfunction RSIAnalysis2({ stockCode, stockData, rsiData }) {\r\n    const [bullishDivergence , setBullishDivergence ] = useState([])\r\n    const [bearishDivergence, setBearishDivergence] = useState([])\r\n\r\n\r\n    const calculateBullishDivergence = (stockCode, stockData, rsiData) => {\r\n        console.log(\"Received stockData in RSIAnalysis2:\", stockData);\r\n        console.log(\"Received stockData in RSIAnalysis2:\", rsiData);\r\n\r\n        const filteredStockData = stockData.filter(data => data.stock_code === stockCode)\r\n        const filteredStockRsi = rsiData.filter(data => data.stock_code === stockCode)\r\n\r\n        if (filteredStockData.length < 2 || filteredStockRsi.length < 2) {\r\n            console.error(\"filter에 문제 있는지 확인 중\",filteredStockData);\r\n            console.error(\"filter에 문제 있는지 확인 중\",filteredStockRsi);\r\n        }\r\n\r\n        const sortedStockData = [...filteredStockData].sort((a,b) => a.close - b.close)\r\n        let firstLowClose = sortedStockData[1];\r\n        let secondLowClose = sortedStockData[0];\r\n\r\n        if(new Date(secondLowClose.date) < new Date(firstLowClose.date)){\r\n            [firstLowClose, secondLowClose] = [secondLowClose, firstLowClose]\r\n        }\r\n\r\n        const sortedStockRsi = [...filteredStockRsi].sort((a,b) => a.RSI - b.RSI);\r\n        let firstLowRsi = sortedStockRsi[0];\r\n        let secondLowRsi = sortedStockRsi[1];\r\n\r\n        if(new Date(secondLowRsi.date) > new Date(firstLowRsi.date)){\r\n            [firstLowRsi, secondLowRsi] = [secondLowRsi, firstLowRsi]\r\n        }\r\n\r\n        return secondLowClose.close < firstLowClose.close &&\r\n            secondLowRsi.RSI > firstLowRsi.RSI;\r\n    }\r\n\r\n    const calculateBearishDivergence = (stockCode, stockData, rsiData) => {\r\n\r\n        const filteredStockData = stockData.filter(data => data.stock_code === stockCode)\r\n        const filteredStockRsi = rsiData.filter(data => data.stock_code === stockCode)\r\n\r\n        const sortedStockData = [...filteredStockData].sort((a, b) => b.close - a.close);\r\n        let firstHighClose = sortedStockData[1];\r\n        let secondHighClose = sortedStockData[0];\r\n\r\n        if (new Date(secondHighClose.date) < new Date(firstHighClose.date)) {\r\n            [firstHighClose, secondHighClose] = [secondHighClose, firstHighClose]\r\n        }\r\n        const sortedStockRsi = [...filteredStockRsi].sort((a, b) => b.RSI - a.RSI);\r\n        let firstHighRsi = sortedStockRsi[0];\r\n        let secondHighRsi = sortedStockRsi[1];\r\n\r\n        if (new Date(secondHighRsi.date) < new Date(firstHighRsi.date)) {\r\n            [firstHighRsi, secondHighRsi] = [secondHighRsi, firstHighRsi];\r\n        }\r\n\r\n        return secondHighClose.close > firstHighClose.close &&\r\n            secondHighRsi.RSI < firstHighRsi.RSI;\r\n    }\r\n\r\n    useEffect(() => {\r\n        const bullishDivergence = calculateBullishDivergence(stockCode, stockData, rsiData);\r\n        const bearishDivergence = calculateBearishDivergence(stockCode, stockData, rsiData);\r\n\r\n        setBullishDivergence(bullishDivergence);\r\n        setBearishDivergence(bearishDivergence);\r\n\r\n    }, [stockCode, stockData, rsiData]);\r\n\r\n    return (\r\n        <div>\r\n            <h5>강세 다이버전스</h5>\r\n            {bullishDivergence ? (\r\n                <p style={{ color: 'green' }}>강세 다이버전스가 감지되었습니다: 매수 신호</p>\r\n            ) : (\r\n                <p>강세 다이버전스가 감지되지 않았습니다.</p>\r\n            )}\r\n\r\n            <h5>약세 다이버전스</h5>\r\n            {bearishDivergence ? (\r\n                <p style={{ color: 'red' }}>약세 다이버전스가 감지되었습니다: 매도 신호</p>\r\n            ) : (\r\n                <p>약세 다이버전스가 감지되지 않았습니다.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\nexport default RSIAnalysis2"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}