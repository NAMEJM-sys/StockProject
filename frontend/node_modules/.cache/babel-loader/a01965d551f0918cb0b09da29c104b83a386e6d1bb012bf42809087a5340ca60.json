{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProPython\\\\Stock2\\\\frontend\\\\src\\\\ComponentsCalculations\\\\CCICalculations1.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FetchCCIData from '../ComponentsFetch/FetchCCIData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CCICalculations1({\n  stockCode,\n  onScoreCalculated\n}) {\n  _s();\n  const [cciData, setCCIData] = useState([]);\n  const calculateScore = (cciData, period = 14) => {\n    var _cciData$lastIndex, _cciData, _cciData$lastIndex2;\n    const lastIndex = cciData.length - 1;\n    if (lastIndex < period) return null;\n    const currentCCI = (_cciData$lastIndex = cciData[lastIndex]) === null || _cciData$lastIndex === void 0 ? void 0 : _cciData$lastIndex.CCI;\n    const prevCCI = (_cciData = cciData[lastIndex - 1]) === null || _cciData === void 0 ? void 0 : _cciData.CCI;\n    const cciTrendData = cciData.slice(lastIndex - period + 1, lastIndex + 1).map(data => data.CCI);\n    const totalChange = cciTrendData[cciTrendData.length - 1] - cciTrendData[0];\n    const cciTrendDirection = totalChange > 0 ? '상승' : '하락';\n    const priceTrendData = cciData.slice(lastIndex - period + 1, lastIndex + 1).map(data => data.close);\n    const priceChange = priceTrendData[priceTrendData.length - 1] - priceTrendData[0];\n    const priceTrendDirection = priceChange > 0 ? '상승' : '하락';\n    const currentCCI_MACrossover = (_cciData$lastIndex2 = cciData[lastIndex]) === null || _cciData$lastIndex2 === void 0 ? void 0 : _cciData$lastIndex2.CCI_MA_Crossover;\n    if (currentCCI === undefined || prevCCI === undefined) {\n      return null;\n    }\n\n    // 1. 현재 CCI 상태에 따른 초기 점수 설정\n    let score = 5; // 보통\n    if (currentCCI > 100) {\n      score = 8; // 매도\n    } else if (currentCCI < -100) {\n      score = 2; // 매수\n    } else {\n      score = 5; // 보통\n    }\n\n    // 2. CCI 추세 방향에 따른 점수 조정\n    if (cciTrendDirection === '상승') {\n      score -= 1; // 매수 쪽으로\n    } else {\n      score += 1; // 매도 쪽으로\n    }\n\n    // 3. 가격 추세 방향에 따른 점수 조정\n    if (priceTrendDirection === '상승') {\n      score -= 1; // 매수 쪽으로\n    } else {\n      score += 1; // 매도 쪽으로\n    }\n\n    // 4. CCI 이동평균 교차 신호에 따른 점수 조정\n    if (currentCCI_MACrossover === 1) {\n      score -= 2; // 매수 신호 강화\n    } else if (currentCCI_MACrossover === -1) {\n      score += 2; // 매도 신호 강화\n    }\n\n    // 5. 가격과 CCI 추세의 조합에 따른 점수 조정\n    if (priceTrendDirection === '상승' && cciTrendDirection === '상승') {\n      score -= 1; // 매수 신호 강화\n    } else if (priceTrendDirection === '하락' && cciTrendDirection === '하락') {\n      score += 1; // 매도 신호 강화\n    } else if (priceTrendDirection === '상승' && cciTrendDirection === '하락') {\n      score += 1; // 주의 필요\n    } else if (priceTrendDirection === '하락' && cciTrendDirection === '상승') {\n      score -= 1; // 가격 반등 가능성\n    }\n\n    // 점수 범위 조정 (1 ~ 10 사이)\n    score = Math.max(1, Math.min(10, score));\n    return {\n      score,\n      currentCCI\n    };\n  };\n  useEffect(() => {\n    if (cciData.length > 0) {\n      const score = calculateScore(cciData);\n      if (score !== null && onScoreCalculated) {\n        onScoreCalculated(score);\n      }\n    }\n  }, [cciData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(FetchCCIData, {\n      stockCode: stockCode,\n      onCCIFetch: setCCIData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n_s(CCICalculations1, \"s1EcVECv/g4cPhdWfc7CH3PGTus=\");\n_c = CCICalculations1;\nexport default CCICalculations1;\nvar _c;\n$RefreshReg$(_c, \"CCICalculations1\");","map":{"version":3,"names":["React","useState","useEffect","FetchCCIData","jsxDEV","_jsxDEV","CCICalculations1","stockCode","onScoreCalculated","_s","cciData","setCCIData","calculateScore","period","_cciData$lastIndex","_cciData","_cciData$lastIndex2","lastIndex","length","currentCCI","CCI","prevCCI","cciTrendData","slice","map","data","totalChange","cciTrendDirection","priceTrendData","close","priceChange","priceTrendDirection","currentCCI_MACrossover","CCI_MA_Crossover","undefined","score","Math","max","min","children","onCCIFetch","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/ProPython/Stock2/frontend/src/ComponentsCalculations/CCICalculations1.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FetchCCIData from '../ComponentsFetch/FetchCCIData';\r\n\r\nfunction CCICalculations1({ stockCode, onScoreCalculated }) {\r\n    const [cciData, setCCIData] = useState([]);\r\n\r\n    const calculateScore = (cciData, period = 14) => {\r\n        const lastIndex = cciData.length - 1;\r\n        if (lastIndex < period) return null;\r\n\r\n        const currentCCI = cciData[lastIndex]?.CCI;\r\n        const prevCCI = cciData[lastIndex - 1]?.CCI;\r\n\r\n        const cciTrendData = cciData.slice(lastIndex - period + 1, lastIndex + 1).map(data => data.CCI);\r\n        const totalChange = cciTrendData[cciTrendData.length - 1] - cciTrendData[0];\r\n        const cciTrendDirection = totalChange > 0 ? '상승' : '하락';\r\n\r\n        const priceTrendData = cciData.slice(lastIndex - period + 1, lastIndex + 1).map(data => data.close);\r\n        const priceChange = priceTrendData[priceTrendData.length - 1] - priceTrendData[0];\r\n        const priceTrendDirection = priceChange > 0 ? '상승' : '하락';\r\n\r\n        const currentCCI_MACrossover = cciData[lastIndex]?.CCI_MA_Crossover;\r\n\r\n        if (currentCCI === undefined || prevCCI === undefined) {\r\n            return null;\r\n        }\r\n\r\n        // 1. 현재 CCI 상태에 따른 초기 점수 설정\r\n        let score = 5; // 보통\r\n        if (currentCCI > 100) {\r\n            score = 8; // 매도\r\n        } else if (currentCCI < -100) {\r\n            score = 2; // 매수\r\n        } else {\r\n            score = 5; // 보통\r\n        }\r\n\r\n        // 2. CCI 추세 방향에 따른 점수 조정\r\n        if (cciTrendDirection === '상승') {\r\n            score -= 1; // 매수 쪽으로\r\n        } else {\r\n            score += 1; // 매도 쪽으로\r\n        }\r\n\r\n        // 3. 가격 추세 방향에 따른 점수 조정\r\n        if (priceTrendDirection === '상승') {\r\n            score -= 1; // 매수 쪽으로\r\n        } else {\r\n            score += 1; // 매도 쪽으로\r\n        }\r\n\r\n        // 4. CCI 이동평균 교차 신호에 따른 점수 조정\r\n        if (currentCCI_MACrossover === 1) {\r\n            score -= 2; // 매수 신호 강화\r\n        } else if (currentCCI_MACrossover === -1) {\r\n            score += 2; // 매도 신호 강화\r\n        }\r\n\r\n        // 5. 가격과 CCI 추세의 조합에 따른 점수 조정\r\n        if (priceTrendDirection === '상승' && cciTrendDirection === '상승') {\r\n            score -= 1; // 매수 신호 강화\r\n        } else if (priceTrendDirection === '하락' && cciTrendDirection === '하락') {\r\n            score += 1; // 매도 신호 강화\r\n        } else if (priceTrendDirection === '상승' && cciTrendDirection === '하락') {\r\n            score += 1; // 주의 필요\r\n        } else if (priceTrendDirection === '하락' && cciTrendDirection === '상승') {\r\n            score -= 1; // 가격 반등 가능성\r\n        }\r\n\r\n        // 점수 범위 조정 (1 ~ 10 사이)\r\n        score = Math.max(1, Math.min(10, score));\r\n\r\n        return {score, currentCCI};\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (cciData.length > 0) {\r\n            const score = calculateScore(cciData);\r\n            if (score !== null && onScoreCalculated) {\r\n                onScoreCalculated(score);\r\n            }\r\n        }\r\n    }, [cciData]);\r\n\r\n    return (\r\n        <div>\r\n            <FetchCCIData stockCode={stockCode} onCCIFetch={setCCIData} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CCICalculations1;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}