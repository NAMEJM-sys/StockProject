{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProPython\\\\Stock2\\\\frontend\\\\src\\\\components\\\\MFIAnalysis1.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FetchMFIData from './FetchMFIData';\nimport FetchStockDataForCode from './FetchStockDataForCode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MFIAnalysis1({\n  stockCode\n}) {\n  _s();\n  const [mfiData, setMFIData] = useState([]);\n  const [stockData, setStockData] = useState([]);\n  const [analysisResult, setAnalysisResult] = useState('');\n  const analyzeMFITrend = (mfiData, stockData, period = 14) => {\n    var _mfiData, _stockData, _stockData2;\n    let lastIndex = mfiData.length - 1;\n    if (lastIndex < period || stockData.length < period) return '데이터가 충분하지 않습니다.';\n    const currentMFI = mfiData[lastIndex].MFI.toFixed(2);\n    const prevMFI = ((_mfiData = mfiData[lastIndex - 1]) === null || _mfiData === void 0 ? void 0 : _mfiData.MFI) || 0;\n    const currentPrice = stockData[lastIndex].close;\n    const prevPrice = ((_stockData = stockData[lastIndex - 1]) === null || _stockData === void 0 ? void 0 : _stockData.close) || 0;\n    const currentVolume = stockData[lastIndex].volume;\n    const prevVolume = ((_stockData2 = stockData[lastIndex - 1]) === null || _stockData2 === void 0 ? void 0 : _stockData2.volume) || 0;\n\n    // 14일간 MFI 평균 및 가격/거래량 변화 분석\n    const mfiTrend = mfiData.slice(lastIndex - period + 1, lastIndex + 1).map(d => d.MFI);\n    const priceTrend = stockData.slice(lastIndex - period + 1, lastIndex + 1).map(d => d.close);\n    const volumeTrend = stockData.slice(lastIndex - period + 1, lastIndex + 1).map(d => d.volume);\n    const avgMFI = (mfiTrend.reduce((acc, val) => acc + val, 0) / period).toFixed(2);\n    const avgPrice = (priceTrend.reduce((acc, val) => acc + val, 0) / period).toFixed(2);\n    const avgVolume = (volumeTrend.reduce((acc, val) => acc + val, 0) / period).toFixed(2);\n    let result = '';\n    result += `<strong>평균</strong>(${period}일) <strong>MFI</strong>: ${avgMFI} <br/>`;\n    result += `<strong>${period}일 평균 가격:</strong> ${avgPrice} <br/>`;\n    result += `<strong>${period}일 평균 거래량:</strong> ${avgVolume} <br/><br/>`;\n\n    // 최근 MFI 추세 분석\n    const mfiRising = mfiTrend[mfiTrend.length - 1] > mfiTrend[0];\n    const priceRising = priceTrend[priceTrend.length - 1] > priceTrend[0];\n    const volumeRising = volumeTrend[volumeTrend.length - 1] > volumeTrend[0];\n    if (mfiRising) {\n      if (currentMFI > 70 && currentMFI < 80) {\n        result += `MFI가 ${period}일 동안 상승세를 보이며, 매수세가 강화되고 있습니다. MFI는 현재 ${currentMFI}로 과매수 구간에 접근하고 있습니다. 주의가 필요합니다.<br />`;\n      } else if (currentMFI >= 80) {\n        result += `MFI가 과매수 구간에 진입했습니다. 현재 ${currentMFI}로 상승 여력이 줄어들 수 있습니다. 신중한 매도 전략을 고려해야 합니다.<br />`;\n      } else {\n        result += `MFI가 ${period}일 동안 꾸준히 상승 중입니다. 현재 ${currentMFI}로 추가 상승 가능성이 높습니다.<br />`;\n      }\n      if (priceRising && volumeRising) {\n        result += `가격과 거래량 모두 상승 중이므로, 상승 추세가 강해질 가능성이 큽니다.<br />`;\n      } else {\n        result += `가격 또는 거래량이 동반 상승하지 않으므로, 상승 추세가 약화될 수 있습니다. 신중히 검토하세요.<br />`;\n      }\n    } else {\n      result += `MFI가 최근 ${period}일 동안 하락세를 보이고 있습니다. 현재 MFI는 ${currentMFI}입니다.<br />`;\n      if (priceRising && volumeRising) {\n        result += `가격과 거래량이 상승 중이지만, MFI 하락세를 고려해 신중한 매수 전략이 필요합니다.<br />`;\n      } else {\n        result += `가격과 거래량이 동반 상승하지 않고 있으며, 하락 가능성이 큽니다.<br />`;\n      }\n    }\n    return result;\n  };\n  useEffect(() => {\n    if (mfiData.length > 0 && stockData.length > 0) {\n      const result = analyzeMFITrend(mfiData, stockData);\n      setAnalysisResult(result);\n    }\n  }, [mfiData, stockData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FetchMFIData, {\n      stockCode: stockCode,\n      onMFIFetch: setMFIData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FetchStockDataForCode, {\n      stockCode: stockCode,\n      onSDFCFetch: setStockData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"analysis-text\",\n      children: \"MFI \\uD750\\uB984 \\uBD84\\uC11D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: analysisResult.replace(/\\n/g, '<br />')\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n_s(MFIAnalysis1, \"7bN3uFgPvWhQU38aocWDCHVSLbA=\");\n_c = MFIAnalysis1;\nexport default MFIAnalysis1;\nvar _c;\n$RefreshReg$(_c, \"MFIAnalysis1\");","map":{"version":3,"names":["React","useState","useEffect","FetchMFIData","FetchStockDataForCode","jsxDEV","_jsxDEV","MFIAnalysis1","stockCode","_s","mfiData","setMFIData","stockData","setStockData","analysisResult","setAnalysisResult","analyzeMFITrend","period","_mfiData","_stockData","_stockData2","lastIndex","length","currentMFI","MFI","toFixed","prevMFI","currentPrice","close","prevPrice","currentVolume","volume","prevVolume","mfiTrend","slice","map","d","priceTrend","volumeTrend","avgMFI","reduce","acc","val","avgPrice","avgVolume","result","mfiRising","priceRising","volumeRising","children","onMFIFetch","fileName","_jsxFileName","lineNumber","columnNumber","onSDFCFetch","className","dangerouslySetInnerHTML","__html","replace","_c","$RefreshReg$"],"sources":["C:/ProPython/Stock2/frontend/src/components/MFIAnalysis1.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FetchMFIData from './FetchMFIData';\r\nimport FetchStockDataForCode from './FetchStockDataForCode';\r\n\r\nfunction MFIAnalysis1({ stockCode }) {\r\n    const [mfiData, setMFIData] = useState([]);\r\n    const [stockData, setStockData] = useState([]);\r\n    const [analysisResult, setAnalysisResult] = useState('');\r\n\r\n    const analyzeMFITrend = (mfiData, stockData, period = 14) => {\r\n        let lastIndex = mfiData.length - 1;\r\n        if (lastIndex < period || stockData.length < period) return '데이터가 충분하지 않습니다.';\r\n\r\n        const currentMFI = mfiData[lastIndex].MFI.toFixed(2);\r\n        const prevMFI = mfiData[lastIndex - 1]?.MFI || 0;\r\n        const currentPrice = stockData[lastIndex].close;\r\n        const prevPrice = stockData[lastIndex - 1]?.close || 0;\r\n        const currentVolume = stockData[lastIndex].volume;\r\n        const prevVolume = stockData[lastIndex - 1]?.volume || 0;\r\n\r\n        // 14일간 MFI 평균 및 가격/거래량 변화 분석\r\n        const mfiTrend = mfiData.slice(lastIndex - period + 1, lastIndex + 1).map(d => d.MFI);\r\n        const priceTrend = stockData.slice(lastIndex - period + 1, lastIndex + 1).map(d => d.close);\r\n        const volumeTrend = stockData.slice(lastIndex - period + 1, lastIndex + 1).map(d => d.volume);\r\n\r\n        const avgMFI = (mfiTrend.reduce((acc, val) => acc + val, 0) / period).toFixed(2);\r\n        const avgPrice = (priceTrend.reduce((acc, val) => acc + val, 0) / period).toFixed(2);\r\n        const avgVolume = (volumeTrend.reduce((acc, val) => acc + val, 0) / period).toFixed(2);\r\n\r\n        let result = '';\r\n\r\n        result += `<strong>평균</strong>(${period}일) <strong>MFI</strong>: ${avgMFI} <br/>`;\r\n        result += `<strong>${period}일 평균 가격:</strong> ${avgPrice} <br/>`;\r\n        result += `<strong>${period}일 평균 거래량:</strong> ${avgVolume} <br/><br/>`;\r\n\r\n        // 최근 MFI 추세 분석\r\n        const mfiRising = mfiTrend[mfiTrend.length - 1] > mfiTrend[0];\r\n        const priceRising = priceTrend[priceTrend.length - 1] > priceTrend[0];\r\n        const volumeRising = volumeTrend[volumeTrend.length - 1] > volumeTrend[0];\r\n\r\n        if (mfiRising) {\r\n            if (currentMFI > 70 && currentMFI < 80) {\r\n                result += `MFI가 ${period}일 동안 상승세를 보이며, 매수세가 강화되고 있습니다. MFI는 현재 ${currentMFI}로 과매수 구간에 접근하고 있습니다. 주의가 필요합니다.<br />`;\r\n            } else if (currentMFI >= 80) {\r\n                result += `MFI가 과매수 구간에 진입했습니다. 현재 ${currentMFI}로 상승 여력이 줄어들 수 있습니다. 신중한 매도 전략을 고려해야 합니다.<br />`;\r\n            } else {\r\n                result += `MFI가 ${period}일 동안 꾸준히 상승 중입니다. 현재 ${currentMFI}로 추가 상승 가능성이 높습니다.<br />`;\r\n            }\r\n\r\n            if (priceRising && volumeRising) {\r\n                result += `가격과 거래량 모두 상승 중이므로, 상승 추세가 강해질 가능성이 큽니다.<br />`;\r\n            } else {\r\n                result += `가격 또는 거래량이 동반 상승하지 않으므로, 상승 추세가 약화될 수 있습니다. 신중히 검토하세요.<br />`;\r\n            }\r\n        } else {\r\n            result += `MFI가 최근 ${period}일 동안 하락세를 보이고 있습니다. 현재 MFI는 ${currentMFI}입니다.<br />`;\r\n            if (priceRising && volumeRising) {\r\n                result += `가격과 거래량이 상승 중이지만, MFI 하락세를 고려해 신중한 매수 전략이 필요합니다.<br />`;\r\n            } else {\r\n                result += `가격과 거래량이 동반 상승하지 않고 있으며, 하락 가능성이 큽니다.<br />`;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (mfiData.length > 0 && stockData.length > 0) {\r\n            const result = analyzeMFITrend(mfiData, stockData);\r\n            setAnalysisResult(result);\r\n        }\r\n    }, [mfiData, stockData]);\r\n\r\n    return (\r\n        <div>\r\n            <FetchMFIData stockCode={stockCode} onMFIFetch={setMFIData} />\r\n            <FetchStockDataForCode stockCode={stockCode} onSDFCFetch={setStockData} />\r\n            <h4 className=\"analysis-text\">MFI 흐름 분석</h4>\r\n            <p dangerouslySetInnerHTML={{ __html: analysisResult.replace(/\\n/g, '<br />') }}></p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MFIAnalysis1;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,qBAAqB,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,SAASC,YAAYA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACjC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACa,cAAc,EAAEC,iBAAiB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAExD,MAAMe,eAAe,GAAGA,CAACN,OAAO,EAAEE,SAAS,EAAEK,MAAM,GAAG,EAAE,KAAK;IAAA,IAAAC,QAAA,EAAAC,UAAA,EAAAC,WAAA;IACzD,IAAIC,SAAS,GAAGX,OAAO,CAACY,MAAM,GAAG,CAAC;IAClC,IAAID,SAAS,GAAGJ,MAAM,IAAIL,SAAS,CAACU,MAAM,GAAGL,MAAM,EAAE,OAAO,iBAAiB;IAE7E,MAAMM,UAAU,GAAGb,OAAO,CAACW,SAAS,CAAC,CAACG,GAAG,CAACC,OAAO,CAAC,CAAC,CAAC;IACpD,MAAMC,OAAO,GAAG,EAAAR,QAAA,GAAAR,OAAO,CAACW,SAAS,GAAG,CAAC,CAAC,cAAAH,QAAA,uBAAtBA,QAAA,CAAwBM,GAAG,KAAI,CAAC;IAChD,MAAMG,YAAY,GAAGf,SAAS,CAACS,SAAS,CAAC,CAACO,KAAK;IAC/C,MAAMC,SAAS,GAAG,EAAAV,UAAA,GAAAP,SAAS,CAACS,SAAS,GAAG,CAAC,CAAC,cAAAF,UAAA,uBAAxBA,UAAA,CAA0BS,KAAK,KAAI,CAAC;IACtD,MAAME,aAAa,GAAGlB,SAAS,CAACS,SAAS,CAAC,CAACU,MAAM;IACjD,MAAMC,UAAU,GAAG,EAAAZ,WAAA,GAAAR,SAAS,CAACS,SAAS,GAAG,CAAC,CAAC,cAAAD,WAAA,uBAAxBA,WAAA,CAA0BW,MAAM,KAAI,CAAC;;IAExD;IACA,MAAME,QAAQ,GAAGvB,OAAO,CAACwB,KAAK,CAACb,SAAS,GAAGJ,MAAM,GAAG,CAAC,EAAEI,SAAS,GAAG,CAAC,CAAC,CAACc,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACZ,GAAG,CAAC;IACrF,MAAMa,UAAU,GAAGzB,SAAS,CAACsB,KAAK,CAACb,SAAS,GAAGJ,MAAM,GAAG,CAAC,EAAEI,SAAS,GAAG,CAAC,CAAC,CAACc,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACR,KAAK,CAAC;IAC3F,MAAMU,WAAW,GAAG1B,SAAS,CAACsB,KAAK,CAACb,SAAS,GAAGJ,MAAM,GAAG,CAAC,EAAEI,SAAS,GAAG,CAAC,CAAC,CAACc,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACL,MAAM,CAAC;IAE7F,MAAMQ,MAAM,GAAG,CAACN,QAAQ,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC,GAAGzB,MAAM,EAAEQ,OAAO,CAAC,CAAC,CAAC;IAChF,MAAMkB,QAAQ,GAAG,CAACN,UAAU,CAACG,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC,GAAGzB,MAAM,EAAEQ,OAAO,CAAC,CAAC,CAAC;IACpF,MAAMmB,SAAS,GAAG,CAACN,WAAW,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC,GAAGzB,MAAM,EAAEQ,OAAO,CAAC,CAAC,CAAC;IAEtF,IAAIoB,MAAM,GAAG,EAAE;IAEfA,MAAM,IAAI,uBAAuB5B,MAAM,4BAA4BsB,MAAM,QAAQ;IACjFM,MAAM,IAAI,WAAW5B,MAAM,qBAAqB0B,QAAQ,QAAQ;IAChEE,MAAM,IAAI,WAAW5B,MAAM,sBAAsB2B,SAAS,aAAa;;IAEvE;IACA,MAAME,SAAS,GAAGb,QAAQ,CAACA,QAAQ,CAACX,MAAM,GAAG,CAAC,CAAC,GAAGW,QAAQ,CAAC,CAAC,CAAC;IAC7D,MAAMc,WAAW,GAAGV,UAAU,CAACA,UAAU,CAACf,MAAM,GAAG,CAAC,CAAC,GAAGe,UAAU,CAAC,CAAC,CAAC;IACrE,MAAMW,YAAY,GAAGV,WAAW,CAACA,WAAW,CAAChB,MAAM,GAAG,CAAC,CAAC,GAAGgB,WAAW,CAAC,CAAC,CAAC;IAEzE,IAAIQ,SAAS,EAAE;MACX,IAAIvB,UAAU,GAAG,EAAE,IAAIA,UAAU,GAAG,EAAE,EAAE;QACpCsB,MAAM,IAAI,QAAQ5B,MAAM,0CAA0CM,UAAU,uCAAuC;MACvH,CAAC,MAAM,IAAIA,UAAU,IAAI,EAAE,EAAE;QACzBsB,MAAM,IAAI,2BAA2BtB,UAAU,iDAAiD;MACpG,CAAC,MAAM;QACHsB,MAAM,IAAI,QAAQ5B,MAAM,wBAAwBM,UAAU,0BAA0B;MACxF;MAEA,IAAIwB,WAAW,IAAIC,YAAY,EAAE;QAC7BH,MAAM,IAAI,gDAAgD;MAC9D,CAAC,MAAM;QACHA,MAAM,IAAI,8DAA8D;MAC5E;IACJ,CAAC,MAAM;MACHA,MAAM,IAAI,WAAW5B,MAAM,+BAA+BM,UAAU,YAAY;MAChF,IAAIwB,WAAW,IAAIC,YAAY,EAAE;QAC7BH,MAAM,IAAI,wDAAwD;MACtE,CAAC,MAAM;QACHA,MAAM,IAAI,6CAA6C;MAC3D;IACJ;IAEA,OAAOA,MAAM;EACjB,CAAC;EAED3C,SAAS,CAAC,MAAM;IACZ,IAAIQ,OAAO,CAACY,MAAM,GAAG,CAAC,IAAIV,SAAS,CAACU,MAAM,GAAG,CAAC,EAAE;MAC5C,MAAMuB,MAAM,GAAG7B,eAAe,CAACN,OAAO,EAAEE,SAAS,CAAC;MAClDG,iBAAiB,CAAC8B,MAAM,CAAC;IAC7B;EACJ,CAAC,EAAE,CAACnC,OAAO,EAAEE,SAAS,CAAC,CAAC;EAExB,oBACIN,OAAA;IAAA2C,QAAA,gBACI3C,OAAA,CAACH,YAAY;MAACK,SAAS,EAAEA,SAAU;MAAC0C,UAAU,EAAEvC;IAAW;MAAAwC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9DhD,OAAA,CAACF,qBAAqB;MAACI,SAAS,EAAEA,SAAU;MAAC+C,WAAW,EAAE1C;IAAa;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1EhD,OAAA;MAAIkD,SAAS,EAAC,eAAe;MAAAP,QAAA,EAAC;IAAS;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5ChD,OAAA;MAAGmD,uBAAuB,EAAE;QAAEC,MAAM,EAAE5C,cAAc,CAAC6C,OAAO,CAAC,KAAK,EAAE,QAAQ;MAAE;IAAE;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpF,CAAC;AAEd;AAAC7C,EAAA,CA7EQF,YAAY;AAAAqD,EAAA,GAAZrD,YAAY;AA+ErB,eAAeA,YAAY;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}