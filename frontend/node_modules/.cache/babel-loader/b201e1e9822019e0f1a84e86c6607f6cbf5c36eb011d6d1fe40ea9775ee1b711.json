{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProPython\\\\Stock2\\\\frontend\\\\src\\\\ComponentsAnalysis\\\\MACDAnalysis3.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FetchMACDData from '../ComponentsFetch/FetchMACDData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MACDAnalysis3({\n  stockCode\n}) {\n  _s();\n  const [macdData, setMACDData] = useState([]);\n  const [analysisResult, setAnalysisResult] = useState('');\n  const analyzeMACDHistogram = (macdData, period = 5) => {\n    if (macdData.length < period + 1) {\n      return '데이터가 충분하지 않습니다.';\n    }\n    const lastIndex = macdData.length - 1;\n    const currentHistogram = macdData[lastIndex].Histogram;\n    const prevHistogram = macdData[lastIndex - 1].Histogram;\n\n    // 최근 period 기간의 Histogram 추세 계산\n    const recentHistograms = macdData.slice(lastIndex - period + 1, lastIndex + 1).map(data => data.Histogram);\n    const histogramTrend = recentHistograms[recentHistograms.length - 1] - recentHistograms[0];\n    let result = '';\n\n    // Histogram의 0선 돌파 여부\n    if (prevHistogram < 0 && currentHistogram > 0) {\n      result += '매수 모멘텀이 강화되고 있습니다. Histogram이 0선을 상향 돌파했습니다.<br/>';\n    } else if (prevHistogram > 0 && currentHistogram < 0) {\n      result += '매도 모멘텀이 강화되고 있습니다. Histogram이 0선을 하향 돌파했습니다.<br/>';\n    } else {\n      result += 'Histogram이 0선 근처에서 움직이고 있습니다.<br/>';\n    }\n\n    // Histogram 추세에 따른 크로스오버 예측\n    if (currentHistogram < 0 && histogramTrend > 0) {\n      result += 'Histogram 값이 음수이고 상승 추세입니다.<br/>';\n      result += '이는 곧 MACD Line이 Signal Line을 상향 돌파하여 골든 크로스가 발생할 수 있음을 시사합니다.<br/>';\n    } else if (currentHistogram > 0 && histogramTrend < 0) {\n      result += 'Histogram 값이 양수이고 하락 추세입니다.<br/>';\n      result += '이는 곧 MACD Line이 Signal Line을 하향 돌파하여 데드 크로스가 발생할 수 있음을 시사합니다.<br/>';\n    } else if (currentHistogram > 0 && histogramTrend > 0) {\n      result += 'Histogram 값이 양수이고 상승 추세입니다.<br/>';\n      result += '강한 상승 모멘텀이 지속되고 있습니다. 크로스오버 발생 가능성은 낮습니다.<br/>';\n    } else if (currentHistogram < 0 && histogramTrend < 0) {\n      result += 'Histogram 값이 음수이고 하락 추세입니다.<br/>';\n      result += '강한 하락 모멘텀이 지속되고 있습니다. 크로스오버 발생 가능성은 낮습니다.<br/>';\n    }\n\n    // 크로스오버 예상 시점 추정 (추세에 따른 기간 계산)\n    const histogramSlope = histogramTrend / period;\n    if (histogramSlope !== 0) {\n      const daysToCrossover = Math.abs(currentHistogram / histogramSlope);\n      result += `현재 추세가 지속된다면 약 ${daysToCrossover.toFixed(1)}일 후에 크로스오버가 발생할 수 있습니다.<br/>`;\n    }\n    return result;\n  };\n  useEffect(() => {\n    if (macdData.length > 0) {\n      const result = analyzeMACDHistogram(macdData);\n      setAnalysisResult(result);\n    }\n  }, [macdData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FetchMACDData, {\n      stockCode: stockCode,\n      onMACDFetch: setMACDData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"MACD Histogram \\uBD84\\uC11D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: analysisResult\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s(MACDAnalysis3, \"27DMovUClVI7Ji8nju6vqnSpMCo=\");\n_c = MACDAnalysis3;\nexport default MACDAnalysis3;\nvar _c;\n$RefreshReg$(_c, \"MACDAnalysis3\");","map":{"version":3,"names":["React","useState","useEffect","FetchMACDData","jsxDEV","_jsxDEV","MACDAnalysis3","stockCode","_s","macdData","setMACDData","analysisResult","setAnalysisResult","analyzeMACDHistogram","period","length","lastIndex","currentHistogram","Histogram","prevHistogram","recentHistograms","slice","map","data","histogramTrend","result","histogramSlope","daysToCrossover","Math","abs","toFixed","children","onMACDFetch","fileName","_jsxFileName","lineNumber","columnNumber","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/ProPython/Stock2/frontend/src/ComponentsAnalysis/MACDAnalysis3.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FetchMACDData from '../ComponentsFetch/FetchMACDData';\r\n\r\nfunction MACDAnalysis3({ stockCode }) {\r\n    const [macdData, setMACDData] = useState([]);\r\n    const [analysisResult, setAnalysisResult] = useState('');\r\n\r\n    const analyzeMACDHistogram = (macdData, period = 5) => {\r\n        if (macdData.length < period + 1) {\r\n            return '데이터가 충분하지 않습니다.';\r\n        }\r\n\r\n        const lastIndex = macdData.length - 1;\r\n        const currentHistogram = macdData[lastIndex].Histogram;\r\n        const prevHistogram = macdData[lastIndex - 1].Histogram;\r\n\r\n        // 최근 period 기간의 Histogram 추세 계산\r\n        const recentHistograms = macdData.slice(lastIndex - period + 1, lastIndex + 1).map(data => data.Histogram);\r\n        const histogramTrend = recentHistograms[recentHistograms.length - 1] - recentHistograms[0];\r\n\r\n        let result = '';\r\n\r\n        // Histogram의 0선 돌파 여부\r\n        if (prevHistogram < 0 && currentHistogram > 0) {\r\n            result += '매수 모멘텀이 강화되고 있습니다. Histogram이 0선을 상향 돌파했습니다.<br/>';\r\n        } else if (prevHistogram > 0 && currentHistogram < 0) {\r\n            result += '매도 모멘텀이 강화되고 있습니다. Histogram이 0선을 하향 돌파했습니다.<br/>';\r\n        } else {\r\n            result += 'Histogram이 0선 근처에서 움직이고 있습니다.<br/>';\r\n        }\r\n\r\n        // Histogram 추세에 따른 크로스오버 예측\r\n        if (currentHistogram < 0 && histogramTrend > 0) {\r\n            result += 'Histogram 값이 음수이고 상승 추세입니다.<br/>';\r\n            result += '이는 곧 MACD Line이 Signal Line을 상향 돌파하여 골든 크로스가 발생할 수 있음을 시사합니다.<br/>';\r\n        } else if (currentHistogram > 0 && histogramTrend < 0) {\r\n            result += 'Histogram 값이 양수이고 하락 추세입니다.<br/>';\r\n            result += '이는 곧 MACD Line이 Signal Line을 하향 돌파하여 데드 크로스가 발생할 수 있음을 시사합니다.<br/>';\r\n        } else if (currentHistogram > 0 && histogramTrend > 0) {\r\n            result += 'Histogram 값이 양수이고 상승 추세입니다.<br/>';\r\n            result += '강한 상승 모멘텀이 지속되고 있습니다. 크로스오버 발생 가능성은 낮습니다.<br/>';\r\n        } else if (currentHistogram < 0 && histogramTrend < 0) {\r\n            result += 'Histogram 값이 음수이고 하락 추세입니다.<br/>';\r\n            result += '강한 하락 모멘텀이 지속되고 있습니다. 크로스오버 발생 가능성은 낮습니다.<br/>';\r\n        }\r\n\r\n        // 크로스오버 예상 시점 추정 (추세에 따른 기간 계산)\r\n        const histogramSlope = histogramTrend / period;\r\n        if (histogramSlope !== 0) {\r\n            const daysToCrossover = Math.abs(currentHistogram / histogramSlope);\r\n            result += `현재 추세가 지속된다면 약 ${daysToCrossover.toFixed(1)}일 후에 크로스오버가 발생할 수 있습니다.<br/>`;\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (macdData.length > 0) {\r\n            const result = analyzeMACDHistogram(macdData);\r\n            setAnalysisResult(result);\r\n        }\r\n    }, [macdData]);\r\n\r\n    return (\r\n        <div>\r\n            <FetchMACDData stockCode={stockCode} onMACDFetch={setMACDData} />\r\n            <h4>MACD Histogram 분석</h4>\r\n            <p dangerouslySetInnerHTML={{ __html: analysisResult }}></p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MACDAnalysis3;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}